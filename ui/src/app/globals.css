@import "tailwindcss";
@import "tw-animate-css";

/* =========================================
   BASE TAILWIND & VARIATIONS
   ========================================= */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

@layer base {
  body { @apply bg-background text-foreground; }
  html { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
  * { border-color: var(--border); }
}

/* View Transitions */
@supports (view-transition-name: none) {
  html { view-transition-name: root; }
  ::view-transition-old(root) {
    animation: vt-old-fade-zoom 1s cubic-bezier(.2,.8,.2,1);
  }
  ::view-transition-new(root) {
    animation: vt-new-fade-zoom 1s cubic-bezier(.2,.8,.2,1);
  }
  @keyframes vt-old-fade-zoom {
    from { opacity: 1; transform: scale(1); filter: none; }
    to { opacity: 0; transform: scale(1.01); filter: blur(4px) saturate(.98); }
  }
  @keyframes vt-new-fade-zoom {
    from { opacity: 0; transform: scale(.985); filter: blur(6px) saturate(1.04); }
    to { opacity: 1; transform: scale(1); filter: none; }
  }
}
@media (prefers-reduced-motion: reduce) {
  ::view-transition-old(root), ::view-transition-new(root) { animation: none !important; }
}

/* App Zoom */
:root { --app-zoom: .80; }
.app-zoom { zoom: var(--app-zoom); }
@supports not (zoom: 1) {
  .app-zoom { transform: scale(var(--app-zoom)); transform-origin: top left; width: calc(100% / var(--app-zoom)); }
  html, body { overflow-x: hidden; }
}

/* Calendar adjustments */
.dashboard-calendar { --cal-font-scale: 0.92; --cal-body-max-h: 520px; --cal-padding: 10px; --cal-gap: 8px; }
.dashboard-calendar .cal-shell { transform: scale(var(--cal-font-scale)); transform-origin: top center; }
.dashboard-calendar .cal-surface { max-height: var(--cal-body-max-h); overflow: auto; padding: var(--cal-padding); }
.dashboard-calendar .cal-card { padding: 10px; border-radius: 12px; }
.dashboard-calendar .cal-title { font-size: 1.05rem; line-height: 1.2; margin: 0; }
.dashboard-calendar .cal-subtitle { font-size: 0.85rem; opacity: .8; margin-bottom: 6px; }
.dashboard-calendar .cal-list { display: grid; gap: 6px; }
.dashboard-calendar .cal-chip { padding: 4px 8px; border-radius: 10px; font-size: .8rem; }
.dashboard-calendar .cal-btn { height: 34px; padding: 0 10px; border-radius: 10px; font-size: .85rem; }
.dashboard-calendar .cal-input { height: 36px; padding: 0 10px; border-radius: 10px; font-size: .9rem; }
.dashboard-calendar .cal-stack { display: grid; gap: var(--cal-gap); }
.dashboard-calendar .cal-grid-cell { min-height: 56px; }
.dashboard-calendar .cal-popover { font-size: .85rem; padding: 6px 8px; border-radius: 10px; }

/* Misc base */
@media (min-width: 1024px){ .panel-xl { border-radius: 1rem; } .panel-xl .neon-title { letter-spacing: -0.01em; } }
:where(a,button,input,select,textarea,[role="button"]):focus-visible{ outline: 2px solid var(--ring); outline-offset: 2px; }
#theme-curtain{ position: fixed; inset: 0; z-index: 2147483647; pointer-events: none; background: var(--background); opacity: 0; will-change: opacity; transition: opacity .100s cubic-bezier(.22,.9,.34,1); }
@media (prefers-reduced-motion: reduce){ #theme-curtain{ transition: none; } }


/* ========================================================================
   TOKYO NIGHT — NEON OVERDRIVE (DARK THEME ORIGINAL)
   ======================================================================== */
:root:not([data-theme="light"]) {
  --color-bg: #0b0e14;
  --color-surface: #171726;
  --color-surface-muted: #1f2033;
  --color-border: #2a2f45;
  --color-text: #c0caf5;
  --color-text-muted: #a9b1d6;
  --color-primary: #bb9af7;
  --color-secondary: #f7768e;
  --color-accent: #8bd5ff;
  --color-success: #9ece6a;
  --color-warning: #e0af68;
  --color-danger: #f7768e;
  --destructive: #f7768e;
  --destructive-foreground: #0b0e14;
  --glow-weak: 0 0 22px rgba(187,154,247,.20);
  --glow-strong: 0 0 42px rgba(187,154,247,.38);
  --neon-shadow-rest: 0 0 0 1px color-mix(in oklab, var(--color-primary) 12%, transparent), 0 18px 54px -24px rgba(187,154,247,.26);
  --neon-shadow-hover: 0 0 0 1px color-mix(in oklab, var(--color-primary) 22%, transparent), 0 24px 70px -26px rgba(187,154,247,.32);
  --progress-gradient: linear-gradient(90deg, var(--color-secondary), var(--color-primary));
  --hero-scrim: radial-gradient(60% 120% at 80% -20%, rgba(187,154,247,.18), transparent), radial-gradient(60% 120% at 0% 40%, rgba(247,118,142,.14), transparent), linear-gradient(180deg, rgba(11,14,20,.30), transparent 40%, rgba(11,14,20,.55) 100%);
  --hero-title-shadow: 0 2px 18px rgba(0,0,0,.35);
  --hero-media-filter: none;
  color-scheme: dark;
  --background: var(--color-bg);
  --foreground: var(--color-text);
  --card: var(--color-surface);
  --card-foreground: var(--color-text);
  --popover: var(--color-surface);
  --popover-foreground: var(--color-text);
  --muted-foreground: var(--color-text-muted);
  --border: var(--color-border);
  --pro-radius: 12px;
}

:root:not([data-theme="light"]) html, :root:not([data-theme="light"]) body { background-color: var(--color-bg); color: var(--color-text); -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-rendering: optimizeLegibility; }
:root:not([data-theme="light"]) ::selection { background: rgba(187,154,247,.28); color: var(--color-text); }
:root:not([data-theme="light"]) body.theme-tokyo { background: radial-gradient(1200px 800px at 80% -10%, rgba(187,154,247,.13), transparent), radial-gradient(900px 600px at -10% 20%, rgba(247,118,142,.09), transparent), linear-gradient(180deg, rgba(20,18,30,.35) 0%, rgba(11,14,20,0) 35%), var(--color-bg); }
* { scrollbar-width: thin; scrollbar-color: var(--color-border) transparent; }
*::-webkit-scrollbar { height: 8px; width: 8px; }
*::-webkit-scrollbar-thumb { background: var(--color-border); border-radius: 9999px; }

.neon-title{ background: linear-gradient(90deg, var(--color-primary), var(--color-secondary)); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 0 0 16px rgba(187,154,247,.25); }
a:not(.btn):not(.btn-ghost){ color: var(--color-accent); text-decoration: none; }
a:not(.btn):not(.btn-ghost):hover{ color: var(--color-secondary); text-decoration: underline; }
.btn, .btn:hover, .btn-ghost, .btn-ghost:hover{ text-decoration: none; }
.btn, .btn:hover{ color:#fff; }
.btn-ghost, .btn-ghost:hover{ color: var(--color-primary); }

.btn, .btn-ghost{ display:inline-flex; align-items:center; justify-content:center; gap:.5rem; height:42px; line-height:1; padding:.6rem 1.1rem; font-weight:600; border-radius:.7rem; text-decoration:none; }
.btn{ background: linear-gradient(90deg, #4338ca, #c026d3); color:#fff; border:none; box-shadow: 0 12px 36px -12px rgba(99,102,241,.55), 0 0 0 1px rgba(255,255,255,.15) inset; transition: background .18s ease, box-shadow .18s ease, transform .18s ease; }
.btn:hover{ background: linear-gradient(90deg, #3730a3, #a21caf); box-shadow: 0 14px 42px -12px rgba(99,102,241,.60), 0 0 0 1px rgba(255,255,255,.25) inset; transform: translateY(-1px); }
.btn-ghost{ background: rgba(187,154,247,.08); color: var(--color-primary); border: 1px solid rgba(255,255,255,.14); transition: background .18s ease, box-shadow .18s ease, transform .18s ease, border-color .18s ease, color .18s ease; }
.btn-ghost:hover{ background: rgba(187,154,247,.12); border-color: rgba(255,255,255,.22); box-shadow: 0 4px 18px -10px rgba(187,154,247,.35); transform: translateY(-1px); }

:root:not([data-theme="light"]) .btn-alert-primary-subtle { background: color-mix(in oklab, var(--color-primary) 82%, #6b21a8); color: #fff; border: 1px solid color-mix(in oklab, var(--color-primary) 65%, #fff); box-shadow: 0 8px 22px -16px rgba(187,154,247,.38); transition: background .18s ease, box-shadow .18s ease, transform .18s ease, filter .18s ease; }
:root:not([data-theme="light"]) .btn-alert-primary-subtle:hover { filter: brightness(1.05); transform: translateY(-1px); }

.panel{ background: linear-gradient(180deg, color-mix(in oklab, var(--color-surface) 94%, transparent), color-mix(in oklab, var(--color-surface) 88%, transparent)); border: 1px solid var(--color-border); box-shadow: 0 12px 44px -28px rgba(0,0,0,.55), 0 0 0 1px color-mix(in oklab, var(--color-primary) 10%, transparent); transition: border-color .22s ease, box-shadow .22s ease, transform .22s ease; border-radius: var(--pro-radius); }
.panel:hover{ border-color: color-mix(in oklab, var(--color-primary) 50%, var(--color-border)); box-shadow: 0 14px 54px -30px rgba(0,0,0,.6), 0 0 0 1px color-mix(in oklab, var(--color-primary) 18%, transparent); transform: translateY(-1px); }
.panel-xl{ background: var(--color-surface); border: 1px solid var(--color-border); box-shadow: var(--neon-shadow-rest); position: relative; border-radius: var(--pro-radius); }
.panel-xl:hover{ border-color: color-mix(in oklab, var(--color-primary) 50%, var(--color-border)); box-shadow: var(--neon-shadow-hover); transform: translateY(-1px); }
.panel-xl::after{ content:""; position:absolute; inset-inline:0; bottom:0; height:3px; background: linear-gradient(90deg, transparent, var(--color-primary), var(--color-secondary), transparent); opacity:.18; }

.bank-dot{ box-shadow: 0 0 0 1px rgba(255,255,255,.08), 0 0 12px rgba(187,154,247,.22); }
.theme-tokyo .avatar-ring{ border:1px solid var(--color-border); box-shadow: 0 0 0 1px color-mix(in oklab, var(--color-primary) 18%, transparent), 0 6px 22px -10px rgba(122,162,247,.25); }

.table-default thead th{ background: linear-gradient(180deg, color-mix(in oklab,var(--color-surface) 96%,transparent), color-mix(in oklab,var(--color-surface) 88%,transparent)); color: var(--color-text); position: sticky; top: 0; z-index: 5; backdrop-filter: blur(6px); border-bottom:1px solid var(--color-border); box-shadow: 0 8px 22px -18px rgba(0,0,0,.6); }
.table-default{ border-collapse: separate; border-spacing: 0; width: 100%; }
.table-default th, .table-default td{ border-bottom: 1px solid var(--color-border); padding: .7rem 1rem; color: var(--color-text); }
.table-default tbody tr:last-child th, .table-default tbody tr:last-child td{ border-bottom: 1px solid var(--color-border); }
.table-default tr{ display: table-row; }
.table-default td, .table-default th{ display: table-cell; }
.table-default tbody tr{ transition: background .18s ease; }
.table-compact .table-default td{ padding-top:.5rem; padding-bottom:.5rem; }
.table-default thead th .th-input, .table-default thead th input[type="text"], .table-default thead th input[type="search"], .table-default thead th select{ height: 34px; width: 100%; border-radius: 10px; background: color-mix(in oklab, var(--color-surface) 86%, transparent); border: 1px solid var(--color-border); color: var(--color-text); padding: 0 .65rem; outline: none; transition: border-color .18s ease, box-shadow .18s ease, background .18s ease; }
.table-default thead th .th-input::placeholder, .table-default thead th input::placeholder{ color: color-mix(in oklab, var(--color-text) 65%, #000); }
.table-default thead th .th-input:focus, .table-default thead th input:focus, .table-default thead th select:focus{ border-color: color-mix(in oklab, var(--color-primary) 60%, var(--color-border)); box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-primary) 20%, transparent); background: color-mix(in oklab, var(--color-surface) 92%, transparent); }
.table-default .cell-actions{ display:flex; align-items:center; gap:.4rem; }
.table-default .icon-btn{ height:28px; width:28px; display:inline-flex; align-items:center; justify-content:center; border-radius:8px; border:1px solid transparent; background: color-mix(in oklab, var(--color-surface) 86%, transparent); color: var(--color-text-muted); transition: background .16s ease, border-color .16s ease, color .16s ease, transform .16s ease; }
.table-default .icon-btn:hover{ color: var(--color-text); background: color-mix(in oklab, var(--color-surface) 92%, transparent); border-color: var(--color-border); transform: translateY(-1px); }
.table-default .bank-col .bank-dot{ box-shadow: 0 0 0 1px rgba(255,255,255,.08), 0 0 10px rgba(122,162,247,.28); }
.table-default thead{ contain: paint; will-change: transform; }

.badge-neon{ background: linear-gradient(90deg, var(--color-secondary), color-mix(in oklab, var(--color-secondary) 70%, #000)); color:#0b0e14; border:1px solid color-mix(in oklab, var(--color-secondary) 60%, var(--color-border)); box-shadow: none; }
.badge-new{ display:inline-block; font-size:11px; line-height:1; padding:2px 8px; border-radius:9999px; border:1px solid color-mix(in oklab, var(--color-primary) 30%, transparent); background: color-mix(in oklab, var(--color-primary) 12%, transparent); color: var(--color-text); }

.glass-nav{ position: sticky; top: .5rem; background: color-mix(in oklab, var(--color-surface) 92%, transparent); border: 1px solid var(--color-border); box-shadow: 0 10px 36px -22px rgba(0,0,0,.5), 0 0 0 1px color-mix(in oklab, var(--color-primary) 10%, transparent); backdrop-filter: blur(8px); border-radius: var(--pro-radius); }
.neon-underline{ position: relative; }
.neon-underline::after{ content:""; position:absolute; left:.9rem; right:.9rem; bottom:.35rem; height:2px; background: linear-gradient(90deg, var(--color-secondary), var(--color-primary), transparent 70%); opacity:0; transform: translateY(4px); transition:.22s ease; border-radius:9999px; }
.neon-underline:hover::after{ opacity:.95; transform: translateY(0); }
.nav-icon-link{ color: var(--color-text-muted); height:36px; width:36px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px; border:1px solid transparent; transition: color .18s ease, background .18s ease, border-color .18s ease; }
.nav-icon-link:hover{ color: var(--color-text); background: color-mix(in oklab, var(--color-surface) 86%, transparent); border-color: var(--color-border); }
.neon-underline--icon::after{ left:.6rem; right:.6rem; }
.theme-switch.is-dark{ background: rgba(187,154,247,.10); border-color: rgba(255,255,255,.12); }
.theme-switch.is-light{ background: rgba(99,102,241,.10); border-color: rgba(255,255,255,.12); }

.neon-dropdown{ background: color-mix(in oklab, var(--color-surface) 92%, transparent); border: 1px solid var(--color-border); box-shadow: 0 0 0 1px color-mix(in oklab, var(--color-primary) 12%, transparent), 0 18px 44px -22px rgba(187,154,247,.26); backdrop-filter: blur(8px); border-radius:14px; overflow:hidden; }
.neon-dropdown, .neon-dropdown *{ color: var(--color-text) !important; }
@keyframes popIn { 0%{opacity:0; transform: translateY(6px) scale(.98);} 100%{opacity:1; transform: translateY(0) scale(1);} }
@keyframes popOut{ 0%{opacity:1; transform: translateY(0) scale(1);} 100%{opacity:0; transform: translateY(4px) scale(.98);} }
.pop-anim[data-state="open"] { animation: popIn 160ms cubic-bezier(.22,.9,.34,1) forwards; }
.pop-anim[data-state="closed"]{ animation: popOut 120ms ease forwards; }
@keyframes itemIn { 0%{opacity:0; transform: translateY(6px);} 100%{opacity:1; transform: translateY(0);} }
.pop-anim[data-state="open"] .menu-item{ opacity:0; animation: itemIn 180ms cubic-bezier(.22,.9,.34,1) forwards; }
.pop-anim[data-state="open"] .menu-item:nth-child(1){ animation-delay:20ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(2){ animation-delay:40ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(3){ animation-delay:60ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(4){ animation-delay:80ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(5){ animation-delay:100ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(6){ animation-delay:120ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(7){ animation-delay:140ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(8){ animation-delay:160ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(9){ animation-delay:180ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(10){ animation-delay:200ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(11){ animation-delay:220ms; }
.pop-anim[data-state="open"] .menu-item:nth-child(12){ animation-delay:240ms; }

.menu-item{ position:relative; border-radius:10px; transition: background .18s ease, transform .18s ease, box-shadow .18s ease; }
.menu-item:hover{ background: linear-gradient(90deg, color-mix(in oklab, var(--color-primary) 10%, transparent), color-mix(in oklab, var(--color-secondary) 10%, transparent)); transform: translateY(-1px); box-shadow: 0 10px 28px -18px rgba(187,154,247,.25); }
.menu-item:active{ transform: translateY(0); }
.menu-item::before{ content:""; position:absolute; left:6px; top:50%; transform: translateY(-50%); width:4px; height:0; background: linear-gradient(var(--color-secondary), var(--color-primary)); border-radius:2px; transition: height .18s ease; opacity:.9; }
.menu-item:hover::before{ height:70%; }

.pill-btn[aria-expanded="true"]{ border-color: color-mix(in oklab, var(--color-primary) 60%, var(--color-border)); box-shadow: var(--glow-weak); background: linear-gradient(180deg, color-mix(in oklab, var(--color-primary) 14%, var(--color-surface)), color-mix(in oklab, var(--color-primary) 10%, var(--color-surface))); }

.pill-btn{ border:1px solid var(--color-border); background: color-mix(in oklab, var(--color-surface) 84%, transparent); box-shadow: inset 0 0 0 1px rgba(255,255,255,.02); border-radius: calc(var(--pro-radius) - 4px); }
.pill-btn:hover{ border-color: color-mix(in oklab, var(--color-primary) 55%, var(--color-border)); background: linear-gradient(180deg, color-mix(in oklab, var(--color-primary) 14%, var(--color-surface)), color-mix(in oklab, var(--color-primary) 10%, var(--color-surface))); }
.pill-btn[aria-pressed="true"], .pill-btn.is-active { background: var(--primary); border-color: var(--primary); color: var(--background); }

.bg-surface{ background: var(--color-surface); }
.bg-card{ background: color-mix(in oklab, var(--color-surface) 96%, #000); }
.border-border{ border-color: var(--color-border); }
.text-muted-foreground{ color: var(--color-text-muted); }
.panel, .panel-xl, .bg-surface, .bg-card{ border-radius: var(--pro-radius); }
.btn{ border-radius: calc(var(--pro-radius) - 2px); }

:where(a,button,[role="button"],input,select,textarea):focus-visible{ outline: 2px solid color-mix(in oklab, var(--color-accent) 70%, var(--color-primary)); outline-offset: 2px; box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-accent) 20%, transparent); border-radius: 10px; }

@keyframes neonPulse{ 0%,100%{ box-shadow: 0 0 0 1px rgba(187,154,247,.28), 0 0 24px rgba(187,154,247,.24); } 50% { box-shadow: 0 0 0 1px rgba(247,118,142,.34), 0 0 32px rgba(247,118,142,.32); } }
.neon-border{ animation: neonPulse 2.5s ease-in-out infinite; border-radius:1rem; }

.neon-hover{ background: linear-gradient(180deg, color-mix(in oklab, var(--color-surface) 94%, transparent), color-mix(in oklab, var(--color-surface) 88%, transparent)); border:1px solid var(--color-border); box-shadow: var(--neon-shadow-rest); transition: border-color .22s ease, box-shadow .22s ease, transform .22s ease; border-radius: var(--pro-radius); }
.neon-hover:hover{ border-color: color-mix(in oklab, var(--color-primary) 50%, var(--color-border)); box-shadow: var(--neon-shadow-hover); transform: translateY(-1px); }

.hero-title{ color: var(--color-text); text-shadow: var(--hero-title-shadow); }
.hero-sub{ color: color-mix(in oklab, var(--color-text) 92%, #000); text-shadow: 0 1px 12px rgba(0,0,0,.30); }
.hero-scrim{ position:absolute; inset:0; pointer-events:none; background: var(--hero-scrim); }
.hero-media .media-dark, .hero-media .media-light{ position:absolute; inset:0; transition: opacity .25s ease; }
:root:not([data-theme="light"]) .hero-media .media-dark{ opacity:1; }
:root:not([data-theme="light"]) .hero-media .media-light{ opacity:0; }
:root:not([data-theme="light"]) .hero-ink{ position: relative; }
:root:not([data-theme="light"]) .hero-ink::before{ content:""; position:absolute; left:-16px; top:-10px; bottom:-10px; width:min(56vw, 780px); pointer-events:none; background: radial-gradient(120% 140% at 20% 40%, rgba(0,0,0,.62) 0%, rgba(0,0,0,.46) 45%, rgba(0,0,0,.28) 65%, transparent 78%); filter: blur(6px); z-index:-1; }
:root:not([data-theme="light"]) .hero-title-readable{ color:#d6dbff; font-weight:700; text-shadow: 0 3px 18px rgba(0,0,0,.65), 0 1px 0 rgba(0,0,0,.4); }
:root:not([data-theme="light"]) .hero-sub-readable{ color:#b6befe; font-weight:600; letter-spacing:.01em; text-shadow: 0 2px 12px rgba(0,0,0,.75), 0 0 3px rgba(18,22,33,.45); }

.marquee-container{ overflow: hidden; position: relative; }
.marquee-track{ display:flex; gap:12px; padding:6px 4px 10px; width:max-content; animation: marqueeScroll 30s linear infinite; }
.marquee-container:hover .marquee-track{ animation-play-state: paused; }
.marquee-chip{ white-space: nowrap; padding: 8px 12px; border-radius: 9999px; border: 1px solid var(--color-border); background: color-mix(in oklab, var(--color-surface) 90%, transparent); box-shadow: inset 0 0 0 1px rgba(255,255,255,.02); }
@keyframes marqueeScroll{ from { transform: translateX(0); } to { transform: translateX(-50%); } }
@media (prefers-reduced-motion: reduce){ .marquee-track{ animation:none; } }
.logo-tile{ box-shadow: inset 0 0 0 1px rgba(255,255,255,.02); }

:root:not([data-theme="light"]) .segmented, :root:not([data-theme="light"]) .segmented .seg-item, :root:not([data-theme="light"]) [data-segmented] button, :root:not([data-theme="light"]) .pager-btn, :root:not([data-theme="light"]) nav[aria-label="Pagination"] button{ color: var(--color-text) !important; border-color: var(--color-border); }
.pager-btn[disabled], nav[aria-label="Pagination"] button[disabled]{ opacity:.45; }

:root:not([data-theme="light"]) [class*="text-black"], :root:not([data-theme="light"]) [class*="text-gray-900"], :root:not([data-theme="light"]) [class*="text-gray-800"], :root:not([data-theme="light"]) [class*="text-slate-900"], :root:not([data-theme="light"]) [class*="text-slate-800"], :root:not([data-theme="light"]) [class*="text-neutral-900"], :root:not([data-theme="light"]) [class*="text-neutral-800"], :root:not([data-theme="light"]) [class*="text-zinc-900"], :root:not([data-theme="light"]) [class*="text-zinc-800"], :root:not([data-theme="light"]) [class*="text-stone-900"], :root:not([data-theme="light"]) [class*="text-stone-800"]{ color: var(--color-text) !important; }
:root:not([data-theme="light"]) .bg-white{ background-color: var(--color-surface) !important; color: var(--color-text) !important; }

.btn[class*="ring-"]{ border: none; }
.nav-bell.neon-underline{ position:relative; }
.nav-bell.neon-underline::after{ left:.6rem; right:.6rem; }
.progress-bar{ background: var(--progress-gradient); height:4px; border-radius:9999px; }

.table-wrap{ background: var(--color-surface); border: 1px solid var(--color-border); border-radius: var(--pro-radius); overflow: hidden; box-shadow: 0 12px 44px -28px rgba(0,0,0,.45); }

.pill-btn.is-flat, .pill-btn[data-variant="flat"], .dashboard-actions .pill-btn{ background: color-mix(in oklab, var(--color-surface) 88%, transparent); border: 1px solid var(--color-border); box-shadow: none; }
.pill-btn.is-flat:hover, .pill-btn[data-variant="flat"]:hover, .dashboard-actions .pill-btn:hover{ background: color-mix(in oklab, var(--color-surface) 92%, transparent); border-color: color-mix(in oklab, var(--color-primary) 40%, var(--color-border)); box-shadow: none; }

.offers-list .offer-row, [data-offers-table] tbody tr{ opacity: 0; transform: translateY(6px); transition: opacity .36s ease, transform .36s ease; will-change: opacity, transform; contain: layout paint; }
.offers-list .offer-row.is-visible, [data-offers-table] tbody tr.is-visible{ opacity: 1; transform: none; }
.offers-list .offer-row:nth-child(1), [data-offers-table] tbody tr:nth-child(1){ transition-delay: 30ms; }
.offers-list .offer-row:nth-child(2), [data-offers-table] tbody tr:nth-child(2){ transition-delay: 60ms; }
.offers-list .offer-row:nth-child(3), [data-offers-table] tbody tr:nth-child(3){ transition-delay: 90ms; }
.offers-list .offer-row:nth-child(4), [data-offers-table] tbody tr:nth-child(4){ transition-delay:120ms; }
.offers-list .offer-row:nth-child(5), [data-offers-table] tbody tr:nth-child(5){ transition-delay:150ms; }

.page-shell, .table-wrap, .panel, .panel-xl{ background-clip: padding-box; }
.table-default thead th{ box-shadow: 0 8px 22px -18px rgba(0,0,0,.6), inset 0 -1px 0 var(--color-border); }

:root:not([data-theme="light"]) .notif-pop, :root:not([data-theme="light"]) .notifications-panel{ background: color-mix(in oklab, var(--color-surface) 94%, transparent); border: 1px solid var(--color-border); color: var(--color-text); }
:root:not([data-theme="light"]) .notif-pop__title, :root:not([data-theme="light"]) .notifications-panel .section-title{ color: var(--color-text); }
:root:not([data-theme="light"]) .notif-pop a, :root:not([data-theme="light"]) .notifications-panel a{ color: var(--color-text); text-decoration: none; }
:root:not([data-theme="light"]) .notif-pop a:hover, :root:not([data-theme="light"]) .notifications-panel a:hover{ color: var(--color-secondary); text-decoration: underline; }
:root:not([data-theme="light"]) .notif-pop__meta, :root:not([data-theme="light"]) .notifications-panel .hashtag, :root:not([data-theme="light"]) .notifications-panel .meta{ color: var(--color-text-muted); }
:root:not([data-theme="light"]) .notif-pop__item, :root:not([data-theme="light"]) .notifications-panel .item{ transition: background .16s ease, transform .16s ease; }
:root:not([data-theme="light"]) .notif-pop__item:hover, :root:not([data-theme="light"]) .notifications-panel .item:hover{ background: color-mix(in oklab, var(--color-surface) 90%, transparent); transform: translateY(-1px); }
:root:not([data-theme="light"]) .notif-pop__bullet, :root:not([data-theme="light"]) .notifications-panel .bullet{ background: #3b82f6; box-shadow: 0 0 0 1px rgba(59,130,246,.45), 0 0 12px rgba(59,130,246,.30); }

.notif-pop{ width: 360px; background: color-mix(in oklab, var(--color-surface) 94%, transparent); border: 1px solid var(--color-border); border-radius: 14px; box-shadow: 0 0 0 1px color-mix(in oklab, var(--color-primary) 12%, transparent), 0 18px 44px -22px rgba(187,154,247,.26); backdrop-filter: blur(8px); overflow: hidden; color: var(--color-text); }
.notif-pop__header{ padding: .75rem .9rem; background: linear-gradient(180deg, color-mix(in oklab, var(--color-surface) 96%, transparent), color-mix(in oklab, var(--color-surface) 90%, transparent)); border-bottom: 1px solid var(--color-border); }
.notif-pop__title{ font-weight:600; letter-spacing:.2px; }
.notif-pop__list{ max-height: 50vh; overflow:auto; }
.notif-pop__item{ display:flex; align-items:flex-start; gap:.5rem; position:relative; padding:.35rem 0; transition: background .16s ease, transform .16s ease; }
.notif-pop__item:hover{ background: color-mix(in oklab, var(--color-surface) 90%, transparent); transform: translateY(-1px); border-radius:10px; padding-left:.4rem; padding-right:.4rem; }
.notif-pop__bullet{ flex:0 0 8px; height:8px; margin-top:.45rem; border-radius:9999px; background:#3b82f6; box-shadow: 0 0 0 1px rgba(59,130,246,.45), 0 0 12px rgba(59,130,246,.30); }
.notif-pop a:not(.btn):not(.btn-ghost){ color: var(--color-accent); text-decoration: none; }
.notif-pop a:not(.btn):not(.btn-ghost):hover{ color: var(--color-secondary); text-decoration: underline; }
.notif-pop__meta{ font-size:12px; color: var(--color-text-muted); }
.notif-pop__footer{ display:flex; justify-content:space-between; align-items:center; gap:.6rem; padding:.6rem .8rem; border-top:1px solid var(--color-border); background: color-mix(in oklab, var(--color-surface) 92%, transparent); }
.notif-pop__footer .btn, .notif-pop__footer .btn-ghost{ height:36px; padding:0 .9rem; border-radius:10px; }

.nav-bell{ height:36px; width:36px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px; color:#7aa2ff; background: rgba(58,110,255,.10); border:1px solid rgba(58,110,255,.18); transition: background .18s ease, border-color .18s ease, color .18s ease, transform .18s ease, box-shadow .18s ease; }
.nav-bell:hover{ color:#a5b8ff; background: rgba(58,110,255,.16); border-color: rgba(58,110,255,.28); box-shadow: 0 10px 24px -14px rgba(58,110,255,.35); transform: translateY(-1px); }
.nav-bell[aria-expanded="true"]{ color:#d6deff; background: rgba(58,110,255,.22); border-color: rgba(58,110,255,.36); box-shadow: 0 12px 32px -16px rgba(58,110,255,.42), inset 0 0 0 1px rgba(255,255,255,.06); }
.nav-bell .badge-count{ position:absolute; top:-4px; right:-4px; min-width:18px; height:18px; padding:0 5px; border-radius:9999px; background:#3b82f6; color:#fff; font-size:11px; line-height:18px; box-shadow: 0 0 0 1px rgba(0,0,0,.3), 0 6px 14px -8px rgba(59,130,246,.6); }

:root:not([data-theme="light"]) .inbox-shell [class*="ring-white"], :root:not([data-theme="light"]) .inbox-shell [class*="border-white"], :root:not([data-theme="light"]) .inbox-shell [class*="outline-white"]{ --tw-ring-color: var(--color-border) !important; border-color: var(--color-border) !important; outline-color: color-mix(in oklab, var(--color-accent) 70%, var(--color-primary)) !important; }
.inbox-shell{ background: transparent; }
.inbox-panel{ background: color-mix(in oklab, var(--color-surface) 94%, transparent); border: 1px solid var(--color-border); box-shadow: 0 12px 44px -28px rgba(0,0,0,.45); border-radius: var(--pro-radius); }
.inbox-sidebar{ background: color-mix(in oklab, var(--color-surface) 92%, transparent); border-right: 1px solid var(--color-border); }
.inbox-list .item{ border: 1px solid transparent; border-radius: 10px; transition: background .16s ease, border-color .16s ease, transform .16s ease; }
.inbox-list .item:hover{ background: color-mix(in oklab, var(--color-surface) 92%, transparent); border-color: var(--color-border); transform: translateY(-1px); }
.inbox-list .item.is-active{ background: color-mix(in oklab, var(--color-surface) 96%, transparent); border-color: color-mix(in oklab, var(--color-primary) 40%, var(--color-border)); box-shadow: inset 0 0 0 1px rgba(255,255,255,.06); }
.inbox-actions .btn{ height:36px; border-radius:10px; }
.inbox-actions .btn-ghost{ height:36px; border-radius:10px; }

:root[data-theme="light"] .hero-scrim{ background: radial-gradient(60% 120% at 80% -20%, rgba(187,154,247,.08), transparent), radial-gradient(60% 120% at 0% 40%, rgba(247,118,142,.06), transparent), linear-gradient(180deg, rgba(255,255,255,0), rgba(255,255,255,0)); }
:root[data-theme="light"] .hero-media .media-light, html[data-theme="light"] .hero-media .media-light, body[data-theme="light"] .hero-media .media-light, html.light .hero-media .media-light, body.light .hero-media .media-light{ opacity: 1 !important; }
:root[data-theme="light"] .hero-media .media-dark, html[data-theme="light"] .hero-media .media-dark, body[data-theme="light"] .hero-media .media-dark, html.light .hero-media .media-dark, body.light .hero-media .media-dark{ opacity: 0 !important; pointer-events: none !important; }
:root[data-theme="light"] .hero-scrim, html[data-theme="light"] .hero-scrim, body[data-theme="light"] .hero-scrim, html.light .hero-scrim, body.light .hero-scrim{ background: transparent !important; }

:root:not([data-theme="light"]) .ring-white, :root:not([data-theme="light"]) [class*="ring-white"], :root:not([data-theme="light"]) .ring-offset-white, :root:not([data-theme="light"]) [class*="ring-offset-white"], :root:not([data-theme="light"]) .border-white, :root:not([data-theme="light"]) [class*="border-white"], :root:not([data-theme="light"]) .outline-white, :root:not([data-theme="light"]) [class*="outline-white"]{ --tw-ring-color: transparent !important; --tw-ring-offset-color: transparent !important; --tw-ring-offset-width: 0 !important; border-color: var(--color-border) !important; outline-color: transparent !important; }
:root:not([data-theme="light"]) [class*="shadow-inner"], :root:not([data-theme="light"]) [style*="inset 0 0 0 1px rgba(255,255,255"], :root:not([data-theme="light"]) [style*="inset 0 0 0 1px #fff"]{ box-shadow: inset 0 0 0 1px var(--color-border) !important; }
:root:not([data-theme="light"]) .panel, :root:not([data-theme="light"]) .panel-xl, :root:not([data-theme="light"]) .table-wrap, :root:not([data-theme="light"]) .neon-dropdown, :root:not([data-theme="light"]) .alert-modal-shell{ background-clip: padding-box !important; -webkit-background-clip: padding-box !important; }
:root:not([data-theme="light"]) .alert-modal-shell{ border: 1px solid var(--color-border) !important; box-shadow: 0 50px 140px -40px rgba(0,0,0,.65) !important; }
:root:not([data-theme="light"]) .inbox-shell [class*="ring-"], :root:not([data-theme="light"]) .alert-modal-shell [class*="ring-"]{ --tw-ring-color: transparent !important; --tw-ring-offset-width: 0 !important; }
:root:not([data-theme="light"]) .rounded-2xl.bg-surface{ background-clip: padding-box !important; -webkit-background-clip: padding-box !important; box-shadow: 0 50px 140px -40px rgba(0,0,0,.65) !important; }
html, body, .page-shell { scroll-behavior: smooth; }
:root:not([data-theme="light"]) .table-default tbody tr:hover{ background: linear-gradient(90deg, color-mix(in oklab, var(--color-primary) 18%, transparent), color-mix(in oklab, var(--color-secondary) 18%, transparent)), var(--color-surface-muted); box-shadow: 0 12px 28px -18px rgba(187,154,247,.35); }

:root:not([data-theme="light"]) [data-segmented]{ border-radius:9999px; padding:.35rem; }
:root:not([data-theme="light"]) [data-segmented] button{ border-radius:9999px; }
:root:not([data-theme="light"]) .segmented, :root:not([data-theme="light"]) [data-segmented]{ background: color-mix(in oklab, var(--color-surface) 92%, transparent); border: 1px solid var(--color-border); border-radius: 9999px; padding: 4px; }
:root:not([data-theme="light"]) .segmented > button, :root:not([data-theme="light"]) [data-segmented] > button{ height: 34px; padding: 0 .85rem; border-radius: 9999px; border: 1px solid transparent; font-weight: 600; color: var(--color-text); transition: background .16s ease, border-color .16s ease, color .16s ease, box-shadow .16s ease; }
:root:not([data-theme="light"]) .segmented > button:hover, :root:not([data-theme="light"]) [data-segmented] > button:hover{ background: color-mix(in oklab, var(--color-primary) 22%, transparent); border-color: color-mix(in oklab, var(--color-primary) 55%, var(--color-border)); }
:root:not([data-theme="light"]) .segmented > button[aria-pressed="true"], :root:not([data-theme="light"]) [data-segmented] > button[aria-pressed="true"]{ background: linear-gradient(180deg, color-mix(in oklab, var(--color-primary) 92%, #fff 6%), var(--color-primary)); color: #fff; border-color: color-mix(in oklab, var(--color-primary) 65%, #fff); box-shadow: 0 0 0 1px rgba(255,255,255,.08), 0 12px 28px -16px rgba(187,154,247,.46); }
:root:not([data-theme="light"]) [data-segmented="rows"] > button{ height: 30px; min-width: 44px; font-variant-numeric: tabular-nums; }

:root:not([data-theme="light"]) .dash-btn{ background: color-mix(in oklab, var(--color-surface) 94%, transparent); border: 1px solid color-mix(in oklab, var(--color-primary) 28%, var(--color-border)); color: var(--color-text); border-radius: 10px; box-shadow: 0 0 0 1px rgba(255,255,255,.04) inset; transition: border-color .18s ease, box-shadow .18s ease, transform .18s ease; }
:root:not([data-theme="light"]) .dash-btn:hover{ border-color: color-mix(in oklab, var(--color-primary) 65%, var(--color-border)); box-shadow: 0 14px 32px -18px rgba(187,154,247,.40), 0 0 0 1px rgba(255,255,255,.08) inset; transform: translateY(-1px); }

.table-default tr[data-status="rejected"], .table-default tr[data-status="rejected"]:hover{ background: rgba(247,118,142,.18) !important; }
.table-default tr[data-status="rejected"] td{ border-bottom-color: rgba(247,118,142,.55) !important; }
.table-default tr[data-status="rejected"] td:first-child{ position: relative; }
.table-default tr[data-status="rejected"] td:first-child::before{ content:""; position:absolute; left:0; top:-1px; bottom:-1px; width:3px; background:#f7768e; border-radius:2px; opacity:.9; }

:root:not([data-theme="light"]) .icon-toggle, :root:not([data-theme="light"]) .icon-btn{ background: color-mix(in oklab, var(--color-surface) 86%, transparent); border: 1px solid var(--color-border); color: var(--color-text-muted); transition: background .16s ease, border-color .16s ease, color .16s ease, transform .16s ease, box-shadow .16s ease; }
:root:not([data-theme="light"]) .icon-toggle:hover, :root:not([data-theme="light"]) .icon-btn:hover{ color: var(--color-secondary) !important; border-color: color-mix(in oklab, var(--color-secondary) 55%, var(--color-border)); background: color-mix(in oklab, var(--color-secondary) 12%, transparent); transform: translateY(-1px); }
:root:not([data-theme="light"]) .icon-toggle.is-on, :root:not([data-theme="light"]) .icon-btn.is-on{ color: #0b0e14 !important; background: var(--color-secondary) !important; border-color: var(--color-secondary) !important; box-shadow: 0 0 0 1px rgba(255,255,255,.06); }
:root:not([data-theme="light"]) .icon-toggle svg, :root:not([data-theme="light"]) .icon-btn svg{ stroke: currentColor !important; fill: none !important; }
:root:not([data-theme="light"]) .bg-white .icon-toggle.is-on, :root:not([data-theme="light"]) .bg-white .icon-btn.is-on{ color: #0b0e14 !important; }

/* ========================================================================
   TOKYO LIGHT — NEON MINIMAL (LIGHT THEME ORIGINAL)
   ======================================================================== */
:root[data-theme="light"]{
  /* avant : #f7f8fc */
  --color-bg:#eef2ff;                 /* fond général un peu lavande */
  --color-surface:#ffffff;
  /* avant : #f2f4f8 */
  --color-surface-muted:#e6ecff;      /* cartes “muted” légèrement bleutées */
  --color-border:#d7ddf3;
  --color-text:#0f172a;
  --color-text-muted:#5b6b86;
  --color-primary:#bb9af7;
  --color-secondary:#f7768e;
  --color-accent:#3b82f6;
  --destructive:#f7768e;
  --destructive-foreground:#ffffff;
  --glow-weak: 0 10px 30px -18px rgba(22,36,66,.14);
  --glow-strong: 0 16px 42px -22px rgba(22,36,66,.18);
  --neon-shadow-rest: 0 0 0 1px color-mix(in oklab, var(--color-primary) 8%, transparent), 0 10px 34px -22px rgba(22,36,66,.18);
  --neon-shadow-hover: 0 0 0 1px color-mix(in oklab, var(--color-primary) 16%, transparent), 0 16px 46px -24px rgba(22,36,66,.22);
  --progress-gradient: linear-gradient(90deg, #4338ca, #c026d3);
  --hero-scrim: radial-gradient(60% 120% at 80% -20%, rgba(187,154,247,.06), transparent), radial-gradient(60% 120% at 0% 40%, rgba(247,118,142,.05), transparent), linear-gradient(180deg, rgba(0,0,0,.06), rgba(0,0,0,.03) 40%, rgba(0,0,0,0));
  --hero-media-filter: none;
  --hero-title-shadow: 0 2px 20px rgba(0,0,0,.45);
  color-scheme: light;
  --background: var(--color-bg);
  --foreground: var(--color-text);
  --card: var(--color-surface);
  --card-foreground: var(--color-text);
  --popover: var(--color-surface);
  --popover-foreground: var(--color-text);
  --muted-foreground: var(--color-text-muted);
  --border: var(--color-border);
  --pro-radius: 12px;
}

:root[data-theme="light"] body.theme-tokyo{ /* avant : ton gradient très soft */ background: radial-gradient(1200px 800px at 80% -10%, rgba(59,130,246,.16), transparent), radial-gradient(900px 600px at -10% 20%, rgba(236,72,153,.14), transparent), linear-gradient( 180deg, #edf1ff 0%,    /* haut très clair mais plus bleu que blanc */ #e6efff 45%,   /* milieu */ #e4f4ff 100%   /* bas un peu plus bleu/cyan */ ); color: var(--color-text); }
:root[data-theme="light"] ::selection{ background: rgba(59,130,246,.22); color: var(--color-text); }
:root[data-theme="light"] *{ scrollbar-width:thin; scrollbar-color:#cfd6e6 transparent; }
:root[data-theme="light"] *::-webkit-scrollbar{ height:8px; width:8px; }
:root[data-theme="light"] *::-webkit-scrollbar-thumb{ background:#cfd6e6; border-radius:9999px; }

:root[data-theme="light"] .neon-title{ background: linear-gradient(90deg, var(--color-primary), var(--color-secondary)); -webkit-background-clip:text; background-clip:text; color:transparent; -webkit-text-stroke:.6px rgba(0,0,0,.22); text-shadow:0 4px 18px rgba(0,0,0,.20); }
:root[data-theme="light"] a:not(.btn):not(.btn-ghost){ color: var(--color-accent); text-decoration:none; }
:root[data-theme="light"] a:not(.btn):not(.btn-ghost):hover{ color: var(--color-secondary); text-decoration:underline; }

:root[data-theme="light"] .btn, :root[data-theme="light"] .btn-ghost{ display:inline-flex; align-items:center; justify-content:center; gap:.5rem; height:42px; line-height:1; padding:.6rem 1.1rem; font-weight:600; border-radius:.7rem; text-decoration:none; }
:root[data-theme="light"] .btn{ background: linear-gradient(90deg, #4338ca, #c026d3); color:#fff; border:none; box-shadow: 0 12px 36px -12px rgba(99,102,241,.35); transition: background .18s ease, box-shadow .18s ease, transform .18s ease; }
:root[data-theme="light"] .btn:hover{ background: linear-gradient(90deg, #3730a3, #a21caf); box-shadow: 0 14px 42px -14px rgba(99,102,241,.40); transform: translateY(-1px); }
:root[data-theme="light"] .btn-ghost{ background: rgba(99,102,241,.08); color: #4338ca; border: 1px solid #d9def0; transition: background .18s ease, box-shadow .18s ease, transform .18s ease, border-color .18s ease; }
:root[data-theme="light"] .btn-ghost:hover{ background: rgba(99,102,241,.12); border-color:#cdd4ea; box-shadow: 0 6px 20px -12px rgba(99,102,241,.25); transform: translateY(-1px); }

:root[data-theme="light"] .panel{ background: linear-gradient(180deg,#fff,#fcfdff); border:1px solid var(--color-border); box-shadow: 0 10px 34px -22px rgba(22,36,66,.18); transition: border-color .2s ease, box-shadow .2s ease, transform .2s ease; border-radius: var(--pro-radius); }
:root[data-theme="light"] .panel:hover{ border-color: #d6daea; box-shadow: 0 16px 46px -24px rgba(22,36,66,.22); transform: translateY(-1px); }
:root[data-theme="light"] .panel-xl{ background:#fff; border:1px solid var(--color-border); box-shadow: 0 18px 56px -30px rgba(22,36,66,.22); position:relative; border-radius: var(--pro-radius); }
:root[data-theme="light"] .panel-xl::after{ content:""; position:absolute; inset-inline:0; bottom:0; height:3px; background: linear-gradient(90deg, transparent, var(--color-primary), var(--color-secondary), transparent); opacity:.22; }

:root[data-theme="light"] .neon-hover{ background:#fff; border:1px solid var(--color-border); box-shadow: 0 10px 34px -22px rgba(22,36,66,.14); border-radius: var(--pro-radius); transition: border-color .2s ease, box-shadow .2s ease, transform .2s ease; }
:root[data-theme="light"] .neon-hover:hover{ border-color:#d6daea; box-shadow: 0 16px 46px -24px rgba(22,36,66,.22); transform: translateY(-1px); }

:root[data-theme="light"] .table-default thead th{ background: linear-gradient(180deg,#fff,#fbfdff); color: var(--color-text); position: sticky; top:0; z-index:5; backdrop-filter: blur(6px); border-bottom:1px solid var(--color-border); box-shadow: 0 1px 0 rgba(16,24,40,.04), 0 8px 22px -18px rgba(22,36,66,.15); }
:root[data-theme="light"] .table-default{ border-collapse: separate; border-spacing: 0; width: 100%; }
:root[data-theme="light"] .table-default th, :root[data-theme="light"] .table-default td{ border-bottom:1px solid var(--color-border); padding:.7rem 1rem; color: var(--color-text); }
:root[data-theme="light"] .table-default tbody tr:last-child th, :root[data-theme="light"] .table-default tbody tr:last-child td{ border-bottom:1px solid var(--color-border); }
:root[data-theme="light"] .table-default tr{ display: table-row; }
:root[data-theme="light"] .table-default td, :root[data-theme="light"] .table-default th{ display: table-cell; }
:root[data-theme="light"] .table-default tbody tr:hover{ background:#f7f9ff; }
:root[data-theme="light"] .table-default .icon-btn svg{ stroke: currentColor !important; fill:none !important; }

:root[data-theme="light"] .badge-neon{ background: linear-gradient(90deg, color-mix(in oklab,var(--color-secondary) 84%, #fff), var(--color-secondary)); color:#fff; border-color: color-mix(in oklab, var(--color-secondary) 48%, #fff); box-shadow: none; }
:root[data-theme="light"] .badge-new{ display:inline-block; font-size:11px; line-height:1; padding:2px 8px; border-radius:9999px; background: rgba(99,102,241,.12); border:1px solid rgba(99,102,241,.28); color:#2a2961; }

:root[data-theme="light"] .glass-nav{ background: rgba(255,255,255,.82); border:1px solid var(--color-border); box-shadow: 0 10px 36px -24px rgba(22,36,66,.22), 0 0 0 1px rgba(255,255,255,.6) inset; backdrop-filter: blur(10px); border-radius: var(--pro-radius); }
:root[data-theme="light"] .nav-icon-link{ color: var(--color-text-muted); background:transparent; border-color:transparent; }
:root[data-theme="light"] .nav-icon-link:hover{ color: var(--color-text); background: rgba(0,0,0,.04); border-color: var(--color-border); }
:root[data-theme="light"] .neon-underline{ position:relative; }
:root[data-theme="light"] .neon-underline::after{ content:""; position:absolute; left:.9rem; right:.9rem; bottom:.35rem; height:2px; background: linear-gradient(90deg, var(--color-secondary), var(--color-primary), transparent 70%); opacity:0; transform: translateY(4px); transition:.22s ease; border-radius:9999px; }
:root[data-theme="light"] .neon-underline:hover::after{ opacity:.95; transform: translateY(0); }

:root[data-theme="light"] .neon-dropdown, :root[data-theme="light"] .neon-dropdown *{ color: var(--color-text) !important; }

:root[data-theme="light"] .hero-scrim{ position:absolute; inset:0; pointer-events:none; background: var(--hero-scrim); }
:root[data-theme="light"] .hero-media > *{ filter: var(--hero-media-filter); }
:root[data-theme="light"] .hero-section::before{ content: none !important; }
:root[data-theme="light"] .hero-scrim-subtle{ background: linear-gradient(135deg, rgba(0,0,0,.15) 0%, rgba(0,0,0,.08) 40%, transparent 80%); }
:root[data-theme="light"] .hero-title-readable{ color:#0f172a; text-shadow: -1px -1px 0 rgba(255,255,255,.8), 1px -1px 0 rgba(255,255,255,.8), -1px 1px 0 rgba(255,255,255,.8), 1px 1px 0 rgba(255,255,255,.8), 0 4px 8px rgba(0,0,0,.3), 0 2px 4px rgba(0,0,0,.2); font-weight:700; }
:root[data-theme="light"] .hero-sub-readable{ color:#1e293b; text-shadow: -1px -1px 0 rgba(255,255,255,.9), 1px -1px 0 rgba(255,255,255,.9), -1px 1px 0 rgba(255,255,255,.9), 1px 1px 0 rgba(255,255,255,.9), 0 2px 6px rgba(0,0,0,.25), 0 1px 3px rgba(0,0,0,.15); font-weight:500; }
:root[data-theme="light"] .neon-title-readable{ background: linear-gradient(90deg, #8b5cf6, #ec4899); -webkit-background-clip:text; background-clip:text; color:transparent; text-shadow: 0 0 20px rgba(139,92,246,.5), 0 0 40px rgba(236,72,153,.3), 0 4px 8px rgba(0,0,0,.3); font-weight:800; filter: drop-shadow(0 0 10px rgba(139,92,246,.4)); }

:root[data-theme="light"] .btn-hero-enhanced{ background: linear-gradient(135deg, #4338ca, #7c3aed); color:#fff; border:none; box-shadow: 0 8px 25px rgba(67,56,202,.4), 0 0 0 1px rgba(255,255,255,.2) inset, 0 1px 0 rgba(255,255,255,.3) inset; font-weight:600; }
:root[data-theme="light"] .btn-hero-enhanced:hover{ background: linear-gradient(135deg, #3730a3, #6d28d9); box-shadow: 0 12px 35px rgba(67,56,202,.5), 0 0 0 1px rgba(255,255,255,.25) inset, 0 1px 0 rgba(255,255,255,.4) inset; transform: translateY(-2px); }
:root[data-theme="light"] .btn-ghost-hero-enhanced{ background: rgba(255,255,255,.95); color: var(--color-text); border: 2px solid rgba(255,255,255,.6); backdrop-filter: blur(10px); box-shadow: 0 8px 25px rgba(0,0,0,.15), 0 0 0 1px rgba(255,255,255,.4) inset; font-weight:600; }
:root[data-theme="light"] .btn-ghost-hero-enhanced:hover{ background:#fff; border-color: rgba(255,255,255,.8); box-shadow: 0 12px 35px rgba(0,0,0,.2), 0 0 0 1px rgba(255,255,255,.6) inset; transform: translateY(-2px); }

:root[data-theme="light"] .pill-btn{ border-color: var(--color-border); background: color-mix(in oklab, var(--color-surface) 92%, transparent); box-shadow: inset 0 0 0 1px rgba(0,0,0,.02); border-radius: calc(var(--pro-radius) - 4px); }
:root[data-theme="light"] .pill-btn:hover{ border-color:#d6daea; background: linear-gradient(180deg, #fff, #fbfdff); }
:root[data-theme="light"] .pill-btn[aria-pressed="true"], :root[data-theme="light"] .pill-btn.is-active{ background: var(--color-primary); border-color: var(--color-primary); color:#fff; }

:root[data-theme="light"] .text-muted-foreground{ color: var(--color-text-muted); }
:root[data-theme="light"] .bg-surface{ background: var(--color-surface); }
:root[data-theme="light"] .bg-card{ background: color-mix(in oklab, var(--color-surface) 100%, #fff); }
:root[data-theme="light"] .border-border{ border-color: var(--color-border); }
:root[data-theme="light"] .panel, :root[data-theme="light"] .panel-xl, :root[data-theme="light"] .bg-surface, :root[data-theme="light"] .bg-card{ border-radius: var(--pro-radius); }
:root[data-theme="light"] .btn{ border-radius: calc(var(--pro-radius) - 2px); }
:root[data-theme="light"] :where(a,button,[role="button"],input,select,textarea):focus-visible{ outline: 2px solid color-mix(in oklab, var(--color-accent) 70%, var(--color-primary)); outline-offset: 2px; box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-accent) 20%, transparent); border-radius: 10px; }

:root[data-theme="light"] .pager-btn, :root[data-theme="light"] nav[aria-label="Pagination"] button{ color: var(--color-text); border-color: var(--color-border); }
:root[data-theme="light"] .pager-btn[disabled], :root[data-theme="light"] nav[aria-label="Pagination"] button[disabled]{ opacity:.45; }

:root[data-theme="light"] .segmented, :root[data-theme="light"] [data-segmented]{ --seg-ring: color-mix(in oklab, var(--color-primary) 62%, var(--color-border)); --seg-inner: rgba(0,0,0,.06); --seg-halo: rgba(67,56,202,.18); padding:.25rem; border-radius:9999px; border:1px solid color-mix(in oklab, var(--color-primary) 24%, var(--color-border)); background:#fff; box-shadow: inset 0 0 0 1px rgba(255,255,255,.55); }
:root[data-theme="light"] .segmented .seg-item, :root[data-theme="light"] [data-segmented] button{ border-radius:9999px; border:1px solid var(--color-border); background: color-mix(in oklab, #fff 92%, var(--color-surface-muted)); color: var(--color-text); transition: filter .15s ease, box-shadow .18s ease, background .18s ease, border-color .18s ease; padding:.35rem .65rem; line-height:1; }
:root[data-theme="light"] .segmented .seg-item:hover, :root[data-theme="light"] [data-segmented] button:hover{ background:#fff; border-color: color-mix(in oklab, var(--color-primary) 40%, var(--color-border)); }
:root[data-theme="light"] .segmented .seg-item[aria-pressed="true"], :root[data-theme="light"] [data-segmented] button[aria-pressed="true"]{ background: color-mix(in oklab, var(--color-primary) 82%, #ffffff); color:#fff; border-color: var(--seg-ring); box-shadow: 0 0 0 1px var(--seg-ring), 0 0 0 1px var(--seg-inner) inset, 0 10px 22px -18px var(--seg-halo); }
:root[data-theme="light"] .segmented .seg-item[aria-pressed="true"]:hover, :root[data-theme="light"] [data-segmented] button[aria-pressed="true"]:hover{ filter: brightness(1.04); }
:root[data-theme="light"] [data-segmented="rows"] > button{ height:30px; min-width:44px; font-variant-numeric: tabular-nums; }

:root[data-theme="light"] .marquee-chip{ background:#fff; border:1px solid var(--color-border); box-shadow: inset 0 0 0 1px rgba(0,0,0,.02); }
:root[data-theme="light"] .avatar-ring{ border:1px solid var(--color-border); box-shadow: 0 0 0 1px rgba(99,102,241,.12), 0 6px 18px -12px rgba(22,36,66,.16); }

:root[data-theme="light"] .theme-switch{ height:36px;width:36px;border-radius:10px; display:inline-flex;align-items:center;justify-content:center; background: rgba(99,102,241,.10); color:#4338ca; border:1px solid #d9def0; transition: background .18s, border-color .18s, color .18s, transform .18s; }
:root[data-theme="light"] .theme-switch:hover{ background: rgba(99,102,241,.16); border-color:#cdd4ea; transform: translateY(-1px); }
:root[data-theme="light"] .theme-switch svg{ width:18px;height:18px; stroke: currentColor; fill: none; }
:root[data-theme="light"] .nav-bell{ height:36px;width:36px;border-radius:10px; display:inline-flex;align-items:center;justify-content:center; color:#2563eb; background: rgba(37,99,235,.10); border:1px solid rgba(37,99,235,.22); transition: background .18s, border-color .18s, color .18s, transform .18s, box-shadow .18s; }
:root[data-theme="light"] .nav-bell:hover{ color:#1d4ed8; background: rgba(37,99,235,.16); border-color: rgba(37,99,235,.30); box-shadow: 0 10px 24px -14px rgba(37,99,235,.28); transform: translateY(-1px); }
:root[data-theme="light"] .nav-bell[aria-expanded="true"]{ color:#1d4ed8; background: rgba(37,99,235,.22); border-color: rgba(37,99,235,.36); box-shadow: 0 12px 32px -16px rgba(37,99,235,.32), inset 0 0 0 1px rgba(255,255,255,.6); }

:root[data-theme="light"] .notif-pop{ width:360px; background:#fff; color:var(--color-text); border:1px solid var(--color-border); border-radius:14px; box-shadow: 0 0 0 1px rgba(17,24,39,.04), 0 22px 48px -18px rgba(17,24,39,.18); backdrop-filter: blur(8px); overflow:hidden; }
:root[data-theme="light"] .notif-pop__header{ padding:.75rem .9rem; border-bottom:1px solid var(--color-border); background: linear-gradient(180deg,#fff,#fbfdff); }
:root[data-theme="light"] .notif-pop__list{ max-height:50vh; overflow:auto; }
:root[data-theme="light"] .notif-pop__item{ padding:.45rem .6rem; border-radius:10px; transition: background .16s, transform .16s; }
:root[data-theme="light"] .notif-pop__item:hover{ background:#f6f8ff; transform: translateY(-1px); }
:root[data-theme="light"] .notif-pop__meta{ font-size:12px; color:var(--color-text-muted); }
:root[data-theme="light"] .notif-pop__footer{ display:flex;justify-content:space-between;align-items:center;gap:.6rem; padding:.6rem .8rem; border-top:1px solid var(--color-border); background:#fbfdff; }

:root[data-theme="light"] .pill-violet{ background: rgba(139,92,246,.18); color:#3b2a7a; border:1px solid #e6ddff; padding:.35rem .6rem; border-radius:10px; font-weight:600; transition: background .16s, border-color .16s, transform .16s; }
:root[data-theme="light"] .pill-violet:hover{ background: rgba(139,92,246,.26); border-color:#d8ccff; transform: translateY(-1px); }
:root[data-theme="light"] html, :root[data-theme="light"] body{ scroll-behavior:smooth; }
:root[data-theme="light"] [data-offers-table] tbody tr{ opacity:0; transform: translateY(6px); transition: opacity .32s ease, transform .32s ease; will-change: opacity, transform; }
:root[data-theme="light"] [data-offers-table] tbody tr.is-visible{ opacity:1; transform:none; }

:root[data-theme="light"] .dash-btn{ border: 1px solid #d9def0; background: #fff; box-shadow: 0 6px 20px -14px rgba(22,36,66,.20); }
:root[data-theme="light"] .dash-btn:hover{ border-color: #cdd4ea; box-shadow: 0 10px 26px -16px rgba(22,36,66,.24); }
:root[data-theme="light"] .icon-toggle{ background: color-mix(in oklab, #fff 92%, var(--color-surface-muted)); border: 1px solid var(--color-border); color: var(--color-text-muted); transition: background .16s ease, border-color .16s ease, color .16s ease, transform .16s ease, box-shadow .16s ease; }
:root[data-theme="light"] .icon-toggle:hover{ color: var(--color-secondary); border-color: color-mix(in oklab, var(--color-secondary) 45%, var(--color-border)); background: color-mix(in oklab, var(--color-secondary) 12%, #fff); transform: translateY(-1px); }
:root[data-theme="light"] .icon-toggle.is-on{ color:#fff; background: var(--color-secondary); border-color: var(--color-secondary); box-shadow: 0 0 0 1px rgba(0,0,0,.06); }

/* === AJOUTS HIGH-END CYBERPUNK === */

/* 1. Background Grid "Finance" (Subtil & Animé) */
.bg-grid-finance {
  background-size: 40px 40px;
  background-image:
    linear-gradient(to right, rgba(120, 120, 120, 0.05) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(120, 120, 120, 0.05) 1px, transparent 1px);
  mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
  -webkit-mask-image: radial-gradient(circle at center, black 40%, transparent 100%);
}

/* 2. Effet "Scanline" (Comme un écran OLED de haute précision) */
.scanlines::before {
  content: " ";
  display: block;
  position: absolute;
  top: 0; left: 0; bottom: 0; right: 0;
  background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%),
              linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
  background-size: 100% 3px, 3px 100%;
  pointer-events: none;
  z-index: 10;
  opacity: 0.6;
}

/* 3. HUD Glass Panel (Le panneau de verre flottant) */
.hud-panel {
  background: rgba(13, 17, 23, 0.4); /* Très transparent */
  backdrop-filter: blur(12px);       /* Le flou "Premium" */
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 
    0 0 0 1px rgba(255, 255, 255, 0.05) inset,
    0 20px 40px -20px rgba(0, 0, 0, 0.8);
  position: relative;
  overflow: hidden;
}

/* Bordure lumineuse animée au survol */
.hud-panel::after {
  content: "";
  position: absolute;
  top: 0; left: -100%; width: 100%; height: 2px;
  background: linear-gradient(90deg, transparent, var(--color-primary), var(--color-secondary), transparent);
  animation: hudScan 4s cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

@keyframes hudScan {
  0% { left: -100%; opacity: 0; }
  50% { opacity: 1; }
  100% { left: 100%; opacity: 0; }
}

/* Texte "Glitch" léger au survol (Optionnel) */
.hover-glitch:hover {
  animation: glitch-text 0.3s cubic-bezier(.25, .46, .45, .94) both infinite;
  color: var(--color-primary);
}
@keyframes glitch-text {
  0% { transform: translate(0); }
  20% { transform: translate(-1px, 1px); }
  40% { transform: translate(-1px, -1px); }
  60% { transform: translate(1px, 1px); }
  80% { transform: translate(1px, -1px); }
  100% { transform: translate(0); }
}
input:focus,
input:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}
@keyframes scanline {
  0% {
    transform: translateX(-100%);
    opacity: 0;
  }
  10% {
    opacity: 0.8;
  }
  90% {
    opacity: 0.8;
  }
  100% {
    transform: translateX(100%);
    opacity: 0;
  }
}
